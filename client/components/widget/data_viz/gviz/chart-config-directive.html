<div>
  <div ng-controller="WidgetEditorCtrl as widgetEditorCtrl"
       ng-show="ngModel.chart">

    <div class="pk-sidebar-item">
      <div class="pk-sidebar-item-label">chart type</div>
      <div class="pk-sidebar-item-value">
        <md-select
            ng-model="ngModel.chart.chartType"
            placeholder="Chart Type"
            class="pk-sidebar-input-full widget-chart-type">
          <md-option
              ng-value="chart.className"
              ng-repeat="chart in chartSvc.allCharts">{{ chart.title }}</md-option>
        </md-select>
        <div class="pk-sidebar-item-value">
          <a ng-href="https://developers.google.com/chart/interactive/docs/gallery/{{ ngModel.chart.chartType | lowercase }}"
             target="gvizDocs">Open documentation</a>
        </div>
        
      <div class="pk-sidebar-item-label">primary group</div>
      <div class="pk-sidebar-item-value">
        <md-select multiple
            ng-model="dashboardSvc.selectedWidget.model.datasource.config.primaryGroup"
            placeholder="Data label"
            class="pk-sidebar-input-full widget-chart-type">
          <md-option
              ng-value="dataLabel"
              ng-repeat="dataLabel in dashboardSvc.dataColumns">{{ dataLabel }}</md-option>
        </md-select>
      </div>
      
      <div class="pk-sidebar-item-label">secondary group</div>
      <div class="pk-sidebar-item-value">
        <md-select multiple
            ng-model="dashboardSvc.selectedWidget.model.datasource.config.secondaryGroup"
            placeholder="Data label"
            class="pk-sidebar-input-full widget-chart-type">
          <md-option
              ng-value="dataLabel"
              ng-repeat="dataLabel in dashboardSvc.dataColumns">{{ dataLabel }}</md-option>
        </md-select>
      </div>
    </div>

    <div ng-hide="ngModel.chart.chartType === chartSvc.CHART_TYPES.TABLE"
         class="widget-chart-nontable-options">
      <div class="pk-sidebar-group-title">Legend</div>

      <div class="pk-sidebar-item">
        <div class="pk-sidebar-item-label">alignment</div>
        <div class="pk-sidebar-item-value">
          <md-select
              ng-model="ngModel.chart.options.legend.alignment"
              placeholder="(chart default)"
              class="pk-sidebar-input-full widget-chart-legend-alignment">
            <md-option
                ng-value="alignment"
                ng-repeat="alignment in chartSvc.LEGEND_ALIGNMENTS">{{ alignment }}</md-option>
          </md-select>
        </div>
      </div>

      <div class="pk-sidebar-item">
        <div class="pk-sidebar-item-label">max lines</div>
        <div class="pk-sidebar-item-value">
          <input
              type="number" min="1"
              class="form-control widget-chart-legend-maxlines"
              ng-model="ngModel.chart.options.legend.maxLines">
        </div>
      </div>

      <div class="pk-sidebar-item">
        <div class="pk-sidebar-item-label">position</div>
        <div class="pk-sidebar-item-value">
          <md-select
              ng-model="ngModel.chart.options.legend.position"
              placeholder="(chart default)"
              class="pk-sidebar-input-full widget-chart-legend-position">
            <md-option
                ng-value="position"
                ng-repeat="position in chartSvc.LEGEND_POSITIONS">{{ position }}</md-option>
          </md-select>
        </div>
      </div>

      <div class="pk-sidebar-group-title">Chart Area</div>

      <div layout="row">
        <div class="pk-sidebar-item">
          <div class="pk-sidebar-item-label">top</div>
          <div class="pk-sidebar-item-value">
            <input class="form-control widget-chart-area-top"
                ng-model="ngModel.chart.options.chartArea.top">
          </div>
        </div>

        <div class="pk-sidebar-column-separator">&nbsp;</div>

        <div class="pk-sidebar-item">
          <div class="pk-sidebar-item-label">left</div>
          <div class="pk-sidebar-item-value">
            <input class="form-control widget-chart-area-left"
                ng-model="ngModel.chart.options.chartArea.left">
          </div>
        </div>
      </div>

      <div layout="row">
        <div class="pk-sidebar-item">
          <div class="pk-sidebar-item-label">bottom</div>
          <div class="pk-sidebar-item-value">
            <input class="form-control widget-chart-area-bottom"
                ng-model="ngModel.chart.options.chartArea.bottom">
          </div>
        </div>

        <div class="pk-sidebar-column-separator">&nbsp;</div>

        <div class="pk-sidebar-item">
          <div class="pk-sidebar-item-label">right</div>
          <div class="pk-sidebar-item-value">
            <input class="form-control widget-chart-area-right"
                ng-model="ngModel.chart.options.chartArea.right">
          </div>
        </div>
      </div>

      <div layout="row">
        <div class="pk-sidebar-item">
          <div class="pk-sidebar-item-label">height</div>
          <div class="pk-sidebar-item-value">
            <input class="form-control widget-chart-area-height"
                ng-model="ngModel.chart.options.chartArea.height">
          </div>
        </div>

        <div class="pk-sidebar-column-separator">&nbsp;</div>

        <div class="pk-sidebar-item">
          <div class="pk-sidebar-item-label">width</div>
          <div class="pk-sidebar-item-value">
            <input class="form-control widget-chart-area-width"
                ng-model="ngModel.chart.options.chartArea.width"
                ng-change="changeAreaWidth()">
          </div>
        </div>
      </div>

      <div class="pk-sidebar-group-title">Tooltips</div>

      <div class="pk-sidebar-item">
        <div class="pk-sidebar-item-label">
          <input type="checkbox"
                class="widget-results-pivot"
                ng-model="ngModel.chart.options.tooltip.isHtml"> allow HTML
        </div>
        <md-tooltip md-direction="right">
          Allows HTML content in the tooltip
        </md-tooltip>
      </div>

      <div class="pk-sidebar-item">
        <div class="pk-sidebar-item-label">
          <input type="checkbox"
                class="widget-results-pivot"
                ng-model="ngModel.chart.options.tooltip.showColorCode"> show color code
        </div>
        <md-tooltip md-direction="right">
          If true, show colored squares next to the series information in the tooltip
        </md-tooltip>
      </div>

      <div class="pk-sidebar-item">
        <div class="pk-sidebar-item-label">trigger</div>
        <div class="pk-sidebar-item-value">
          <md-select
              ng-model="ngModel.chart.options.tooltip.trigger"
              placeholder="focus"
              class="pk-sidebar-input-full widget-chart-tooltip-trigger">
            <md-option
                ng-value="trigger"
                ng-repeat="trigger in chartSvc.TOOLTIP_TRIGGERS">{{ trigger }}</md-option>
          </md-select>
        </div>
      </div>
    </div>

    <div class="pk-sidebar-group-buttons">
      <button class="btn btn-default" ng-click="widgetEditorCtrl.openChartEditor()">
        Chart editor
      </button>
    </div>

  </div>
</div>
